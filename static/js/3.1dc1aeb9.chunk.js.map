{"version":3,"sources":["components/Profile/ProfileInfo/Profile.module.css","components/Profile/ProfileInfo/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileInfo/ProfileStatusWithHooks.js","components/Profile/ProfileInfo/ProfileInfo/ProfileInfo.js","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/ProfileInfo/Profile.js","components/Profile/ProfileInfo/ProfileContainer.js"],"names":["module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","onChange","e","currentTarget","onBlur","updateStatus","ProfileInfo","profile","className","s","item","src","alt","photos","large","Preloader","Post","picture","message","likesCount","maxLength10","maxLengthCreator","minLength3","minLengthCreator","MyPosts","React","memo","PostsElements","posts","reverse","map","p","key","id","postsBlock","AddNewPostReduxForm","onSubmit","values","addPost","newPostText","reduxForm","form","handleSubmit","Field","component","Textarea","placeholder","validate","required","name","MyPostsContainer","connect","state","profilePage","dispatch","newPostTextext","addPostActionCreator","Profile","content","ProfileContainer","userId","this","match","params","loggedUserId","history","setUserProfile","getUserStatus","Component","compose","auth","withRouter"],"mappings":"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","file":"static/js/3.1dc1aeb9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Profile_item__1EK78\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ProfileInfo_item__XwTb7\",\"picture\":\"ProfileInfo_picture__3WM4r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MyPosts_item__1pFfT\",\"postsBlock\":\"MyPosts_postsBlock__2FjgG\",\"btn\":\"MyPosts_btn__31V7R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2wpdd\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, { useState, useEffect } from 'react';\r\n\r\n// import s from './ProfileInfo.module.css'\r\n\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\nlet [editMode, setEditMode] = useState(false);\r\nlet [status, setStatus] = useState(props.status);\r\n\r\nuseEffect (() => {\r\n    setStatus(props.status)\r\n}, [props.status]);\r\n    \r\n\r\n\r\nconst activateEditMode = () => {\r\n    setEditMode(true)\r\n    } \r\n        \r\nconst deactivateEditMode = () =>{\r\n    setEditMode(false)\r\n    props.updateStatus(status)\r\n}\r\n\r\nconst onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n    \r\n    \r\n }\r\n\r\n    return (\r\n        <div>\r\n\r\n            {!editMode &&\r\n                <div >\r\n                    <span onDoubleClick={activateEditMode}>{props.status || \"----\"}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input autoFocus onChange={onStatusChange} onBlur={deactivateEditMode} value={status}></input>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default ProfileStatusWithHooks;\r\n\r\n","import React  from 'react';\r\nimport s from './ProfileInfo.module.css'\r\nimport Preloader from '../../../common/Preloader/Preloader';\r\n// import ProfileStatus from './ProfileStatus';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\n\r\nconst ProfileInfo= ({profile,status, updateStatus}) => {\r\n    if(!profile){\r\n        return <Preloader/>\r\n    }\r\n    \r\n    return(\r\n        <div className={s.item}>\r\n            <div >\r\n            <img src=\"https://cdn.pixabay.com/photo/2015/02/24/15/41/dog-647528__340.jpg\" alt=\"12\"></img>\r\n            </div>\r\n            <div>\r\n                <img src={profile.photos.large} alt=\"\"/>\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n                \r\n            </div>\r\n            \r\n\r\n        </div>\r\n        \r\n    )\r\n}\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\n\r\nconst Post = (props) => {\r\n    \r\n    return(\r\n        <div className={s.item}>\r\n            \r\n            <img className={s.picture} src=\"https://www.meme-arsenal.com/memes/cd2652ae9d5c44e3c695d72fd37f647e.jpg\" alt=\"3\"/>\r\n            \r\n            {props.message}\r\n            <div>\r\n        <span>like</span>{props.likesCount}\r\n        \r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Post;","import React  from 'react'\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required, maxLengthCreator, minLengthCreator } from './../../../utils/validators/validators';\r\nimport { Textarea } from './../../common/FormsControls/FormControls';\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\nconst minLength3 = minLengthCreator(3)\r\n\r\n\r\n// window.props = [];\r\n\r\n// class MyPosts extends PureComponent {\r\n//     // componentDidMount(){\r\n//     //     setTimeout(() => {\r\n//     //         this.setState({a:12});\r\n//     //     }, 3000)\r\n//     // }\r\n\r\n//     // shouldComponentUpdate(nextProps, nextState, nextContext){\r\n//     //     return nextProps !== this.props || nextState !== this.state\r\n//     // }\r\n\r\n// render(){\r\n//     console.log(\"render yo\");\r\n//     // window.props.push(this.props);\r\n//     // console.log(this.props);\r\n    \r\n    \r\n//     let PostsElements = this.props.posts.map(p => <Post message={p.message} key={p.id} likesCount={p.likesCount} />);\r\n\r\n//     let changePost = (values) => {\r\n        \r\n//         this.props.addPost(values.newPostText);\r\n//     };\r\n\r\n//     return (\r\n//         <div className={s.postsBlock}>\r\n//             <h3>My posts</h3>\r\n//             <AddNewPostReduxForm onSubmit={changePost} />\r\n           \r\n//             <div className={s.posts}>\r\n//                 {PostsElements}\r\n//             </div>\r\n//         </div>\r\n//     )\r\n\r\n//     }\r\n// }\r\n\r\nconst MyPosts = React.memo((props) => {\r\n    // componentDidMount(){\r\n    //     setTimeout(() => {\r\n    //         this.setState({a:12});\r\n    //     }, 3000)\r\n    // }\r\n\r\n    // shouldComponentUpdate(nextProps, nextState, nextContext){\r\n    //     return nextProps !== this.props || nextState !== this.state\r\n    // }\r\n\r\n\r\n    // console.log(\"render yo\");\r\n    // window.props.push(this.props);\r\n    // console.log(this.props);\r\n    \r\n    \r\n    // let PostsElements = props.posts.map(p => <Post message={p.message} key={p.id} likesCount={p.likesCount} />);\r\n    let PostsElements = [...props.posts].reverse().map(p => <Post message={p.message} key={p.id} likesCount={p.likesCount} />);\r\n\r\n    let changePost = (values) => {\r\n        \r\n          props.addPost(values.newPostText);\r\n    };\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <AddNewPostReduxForm onSubmit={changePost} />\r\n           \r\n            <div className={s.posts}>\r\n                {PostsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    \r\n})\r\n\r\nlet AddNewPost = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} placeholder={\"Post message\"} validate={[required, maxLength10, minLength3]} name=\"newPostText\"/>\r\n               \r\n            </div>\r\n            <div>\r\n               \r\n                <button  >Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n  }\r\n\r\n\r\nlet AddNewPostReduxForm = reduxForm({form: \"mypost\"})(AddNewPost)\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default MyPosts;","import { addPostActionCreator} from '../../../redux/profile-reducer';\r\nimport MyPosts from './MyPosts';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return{\r\n        posts:state.profilePage.posts\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return{\r\n       addPost: (newPostTextext) => {\r\n            dispatch(addPostActionCreator(newPostTextext))\r\n        },           \r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\n\r\nexport default MyPostsContainer;","import React from 'react'\r\nimport s from './Profile.module.css'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './../MyPosts/MyPostsContainer';\r\n\r\n\r\nconst Profile = (props) => {\r\n   \r\n\r\n\r\n\r\n    return (\r\n        <div className={s.content}>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer />\r\n                 \r\n        </div>\r\n    )\r\n}\r\nexport default Profile;","import React from 'react'\r\nimport s from './Profile.module.css'\r\nimport Profile from './Profile'\r\nimport { setUserProfile, getUserStatus, updateStatus } from './../../../redux/profile-reducer';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n// import { withAuthRedirect } from './../../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    \r\n    componentDidMount(){   \r\n        \r\n        let userId = this.props.match.params.userId\r\n        if(!userId){\r\n            userId = this.props.loggedUserId;\r\n            if(!userId) {\r\n\r\n                this.props.history.push(\"/login\");\r\n            }           \r\n        }\r\n        this.props.setUserProfile(userId);\r\n        this.props.getUserStatus(userId);\r\n        \r\n       \r\n            \r\n    }\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <div className={s.content}>\r\n                <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile:state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    loggedUserId: state.auth.userId,\r\n    // iaAuth: state.profilePage.iaAuth\r\n})\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,{setUserProfile, getUserStatus, updateStatus}),\r\n    withRouter,\r\n    // withAuthRedirect\r\n)(ProfileContainer)"],"sourceRoot":""}